<section class="content">
  <div class="container-fluid">
      <div class="row clearfix">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><br><br>
            <div class="card container">
              <div class="card-body" style="padding: 0px !important;">
                <div class="row">
                  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="row">
                      <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <div class="form-group">
                          <label for="pro_nombre" class="control-label required">Desde</label>
                          <div class="form-line">
                            <input id="fechaDesde" [disabled]="isLoading" [(ngModel)]="desde" type="date" />
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <div class="form-group">
                          <label for="pro_nombre" class="control-label required">Hasta</label>
                          <div class="form-line">
                            <input  (change)="Search()" [disabled]="isLoading" id="fechaHasta" [(ngModel)]="hasta" type="date"/>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                        <div class="form-group">
                          <label for="pro_nombre" class="control-label required">Productos</label>
                          <div class="form-line" style="display: flex;">
                            <input class="text-uppercase" (blur)="fetch()" [disabled]="isLoading"  [(ngModel)]="categoria" type="text" placeholder="Categoria"/>
                            <app-c-seleccionar-categoria *ngIf="isloadingCategoria" [isActiveCategoria]="isloadingCategoria" (cate)="selectCategoria($event)"></app-c-seleccionar-categoria>
                            <button class="btn btn-success" [disabled]="isLoading" style="height: 30px; background-color: #48c774 !important;" (click)="showSelectCategoria()"><i class="fas fa-search-plus" style="font-size: 15px;"></i></button>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="display: flex; margin-top: 26px;">
                        <button [disabled]="isLoading" style="margin-left: 2px; height: 28px; width: 100px; background-color: #48c774 !important;" class="btn bg-light-green" (click)='Actualizar()' title="Actualizar" type="button">
                          <i _ngcontent-dhs-c6="" *ngIf="!isLoading"  style="font-size: 10px;" class="fas fa-sync-alt">
                            <span>Actualizar</span>
                          </i>
                          <app-reloadform [btnisLoading]="isLoading"></app-reloadform>
                        </button>
                        <button [disabled]="isLoading" style="margin-left: 2px; height: 28px; width: 100px; background-color: #48c774 !important;" class="btn bg-light-green" (click)='Actualizar()' title="Actualizar" type="button">
                          <i _ngcontent-dhs-c6="" *ngIf="!isLoading"  style="font-size: 10px;" class="fas fa-sync-alt">
                            <span>Limpiar</span>
                          </i>
                          <app-reloadform [btnisLoading]="isLoading"></app-reloadform>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
             </div>
              <div class="card">
                  <div class="body">
                    <div class="row clearfix">
                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                          <div class="card">
                              <div class="body">
                                  <button  data-toggle="modal" data-target="#list-lotes" [disabled]="isLoading" style="margin-left: 2px; height: 28px; background-color: #48c774 !important;" class="btn bg-light-green"title="Actualizar" type="button">
                                    <i _ngcontent-dhs-c6="" *ngIf="!isLoading"  style="font-size: 10px;" class="fas fa-plus">
                                      <span>Aumentar Stock</span>
                                    </i>
                                    <app-reloadform [btnisLoading]="isLoading"></app-reloadform>
                                  </button>
                                  <div class="table-responsive">
                                    <div class="search-results" 
                                    infinite-scroll 
                                    [infiniteScrollDistance]="2" 
                                    [infiniteScrollThrottle]="50" 
                                    [infiniteScrollDisabled]="infiniteScrollStatus"
                                    [scrollWindow]="false"
                                    (scrolled)="onScrollDown()"
                                    >
                                    <table class="display table table-hover table-checkable order-column m-t-20 width-per-100 tbProductoEnabled" style="width: 100%;">
                                      <thead>
                                          <tr>
                                            <th scope="col">Producto</th>
                                             <th scope="col">Lote</th>
                                             <th scope="col">Cantidad</th>
                                              <th scope="col">P.Compra</th>
                                              <th scope="col">P.Venta</th>
                                              <th scope="col">F.Expiracion</th>
                                              <th scope="col">Estado</th>
                                              <th scope="col"></th>
                                          </tr>
                                      </thead>
                                     
                                    </table>
                                  <app-reload style="margin: 150px;" [isloading]="isloadinglista"  message="Cargando"></app-reload>
                                  </div>
                                 </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  </div>
              </div>
          </div>
      </div>
      <!-- #END# Exportable Table -->
  </div>
</section>

<div class="modal fade" id="list-lotes" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Aumentar Stock</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-list-lote></app-list-lote>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger btn-lg waves-effect" data-dismiss="modal">Volver a lista</button>
        <button type="button" class="btn btn-outline-succes btn-lg waves-effect" data-dismiss="modal">Ajustar</button>
      </div> 
    </div>
  </div>
</div>