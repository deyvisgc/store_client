<section class="content">
  <div class="container-fluid">
      <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
            <div class="card">
                <div _ngcontent-sge-c18="" class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><button _ngcontent-sge-c18="" class="btn btn-success btn-lg btn-block waves-effect totales" type="button">Detalle Venta</button></div>
            </div>
            <div class="card">
                <div class="row clearfix">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="card" style="margin: 10px">
                            <div class="header" style="background-color:  #F9E79F;">
                                <h2>
                                    Productos
                                </h2>
                            </div>
                            <div class="body">
                                <app-selectproducto  (productselect)="showDataProduct($event)"></app-selectproducto><br>
                                <div class="row">
                                    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                        <div class="input-group input-group-lg">
                                            <span class="input-group-addon">Stock:</span>
                                            <div class="form-line">
                                                <span _ngcontent-jwd-c7="" class="badge stock" [ngClass]="{'col-red': product.stock <= 5, 'bg-green': product.stock > 5}"> {{product.stock === 0 ? 0 : product.stock}}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                                        <div class="input-group input-group-lg">
                                            <span class="input-group-addon">Lote:</span>
                                            <div class="form-line">
                                                <span _ngcontent-jwd-c7="" style="margin-right: 150px;" class="badge" [ngClass]="{'col-red': product.lote === '', 'bg-cyan': product.lote}">{{product.lote === '' ? 'no asignado' : product.lote}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-addon">Cantidad</span>
                                    <div class="form-line">
                                        <input type="number" id="compra_input" class="form-control" [(ngModel)]="product.pro_cantidad">
                                    </div>
                                </div>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-addon">C. Minima</span>
                                    <div class="form-line">
                                        <input type="number" id="compra_input" class="form-control" [(ngModel)]="product.pro_cantidad_minima">
                                    </div>
                                </div>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-addon">P Compra</span>
                                    <div class="form-line">
                                        <input type="number" id="compra_input" class="form-control" [(ngModel)]="product.precio_compra" placeholder="0.00">
                                    </div>
                                </div>
                                <div class="input-group input-group-lg">
                                    <span class="input-group-addon">C. Barra</span>
                                    <div class="form-line">
                                        <input type="number" id="compra_input" [(ngModel)]="product.pro_cod_barra" class="form-control" placeholder="0.00">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="card" style="margin: 10px">
                            <div class="header" style="background-color:  #F9E79F;">
                                <h2>
                                    Proveedores
                                </h2>
                            </div>
                            <div class="body">
                                <div class="row">
                                    <div class="col-lg-5 col-md-5 col-sm-5 col-xs-12">
                                        <app-provedorselect (proveedorselect)="showDaProveedor($event)"></app-provedorselect><br>
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="input-group input-group-lg">
                                                    <span class="input-group-addon">RUC:</span>
                                                    <div class="form-line">
                                                        <span _ngcontent-jwd-c7="" style="margin-right: 150px;" class="badge" [ngClass]="{'col-red': persona.per_ruc === '', 'bg-cyan': persona.per_ruc}">{{persona.per_ruc === '' ? 'no asignado' : persona.per_ruc}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="margin-left: 50px;padding: 1px;" class="col-xs-7 col-sm-7 col-md-7 col-lg-12">
                                        <button _ngcontent-vfy-c9="" [disabled]='product.pro_name === ""' (click)="GenerarCodeBarra()" style="margin-left: 5px;"  class="btn bg-cyan waves-effect" type="button" data-toggle="tooltip" data-placement="top" title="Generar codigo barra"><i _ngcontent-fkp-c6="" class="fas fa-barcode"></i></button>
                                        <button _ngcontent-vfy-c9="" (click)="AddCart()"  style="margin-left: 5px;"  data-toggle="tooltip" data-placement="top" title="Agregar al carrito" class="btn btn-success waves-effect"  type="button"><i class="fas fa-shopping-cart"></i></button>
                                        <button _ngcontent-vfy-c9="" (click)="Linpiar()"  style="margin-left: 5px;"  class="btn bg-red waves-effect" type="button" data-toggle="tooltip" data-placement="top" title="Limpiar campos"><i class="fas fa-eraser"></i></button>
                                    </div><br><br><br>
                                    <div id="divbarcode" class="col-md-6 col-sm-6 col-lg-12">
                                        <svg style="width:10; height: 10;" id="barcode"></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="card" style="margin: 10px">
                            <div class="header" style="background-color:  #F9E79F;">
                                <h2>
                                    Proveedores
                                </h2>
                            </div>
                            <div class="body">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                      <div class="form-group default-select">
                                          <select class="form-control tipo_pago" data-placeholder="Buscar Proveedor">
                                            <option selected value="">Tipo Pago</option>
                                            <option value="1">Credito</option>
                                            <option value="1">Contado</option>
                                         </select>
                                        </div>
                                        <div class="form-group default-select">
                                            <select class="form-control proveedor" data-placeholder="Buscar Proveedor">
                                                <option selected value="">Tipo Pago</option>
                                                <option></option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
          </div>
          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
            <div class="card body">
              <div _ngcontent-sge-c18="" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <button _ngcontent-sge-c18="" class="btn bg-green btn-lg btn-block waves-effect totales" type="button">Totales</button>
                </div> 
                <div class="row">
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="p-t-10">
                            <span class="pull-left progress-label comprastotales">Descu :</span>
                            <span class="comprasvalor">{{calculoTotales.descuento}}</span>
                          </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="p-t-10">
                            <span class="pull-left progress-label igv">Igv :</span>
                            <span class="comprasvalor">{{calculoTotales.igv}}</span>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="p-t-10">
                            <span class="pull-left progress-label comprasubtotal">S.Total :</span>
                            <span class="comprasvalor" >{{calculoTotales.subtotal}}</span>
                        </div>
                    </div>
                    <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                        <div class="p-t-10">
                            <span class="pull-left progress-label total">total :</span>
                            <span class="comprasvalor" >{{calculoTotales.total}}</span>
                        </div><br>
                    </div>
                    <button _ngcontent-rfq-c10="" [disabled]="btnpagar" class="btn bg-teal waves-effect btnPagar" type="button"><i _ngcontent-rfq-c11="" data-toggle="modal" data-target="#modalPagar" class="fas fa-money-bill-alt"></i><span _ngcontent-rfq-c10="">PAGAR</span></button>
                </div>
                <!-- <div class="p-t-10">
                    <button _ngcontent-vfy-c9="" class="btn btn-success waves-effect btnpagar" type="button"><i class="fas fa-shopping-cart"></i></button>
                </div> -->
            </div>
            <div class="card">
                <div class="body">
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped table-hover save-stage carritoTable" style="width:100%;">
                            <thead>
                                <tr _ngcontent-pxy-c5>
                                    <th class="center">Producto</th>
                                    <th style="width: 40px;" class="center">Cantidad</th>
                                    <th class="center">Precio</th>
                                    <th class="center">Importe</th>
                                    <th class="center">Acciones</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
            </div>
        </div>
      </div>
  </div>
</section>
<div class="modal fade" id="modalPagar" tabindex="-1" role="dialog" aria-labelledby="modalPagar" aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content" style="border-radius: 10px;">
        <div class="modal-header">
            <h5 class="modal-title" style="margin-left: 150px;" id="modalPagar">Formulario de Pago</h5>
            <button type="button" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="row clearfix">
                    <div class="col-md" [ngClass]="{'-4': labeltypePago, '-6': !labeltypePago}">
                        <label for="pro_cantidad_minima" class="titulo">Pago</label>
                        <div class="form-group default-select">
                            <select class="form-control tipo_pago" id="tipo_pago"  name="tipo_pago"  data-placeholder="Select">
                                <option  value="credito">Credito</option>
                                <option  value="debito">Debito</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md" [ngClass]="{'-4': labeltypePago, '-6': !labeltypePago}">
                        <div class="form-group default-select">
                            <label for="pro_cantidad_minima" class="titulo">Comprobante</label>
                            <select class="form-control tipo_comprobante" id="tipo_comprobante" name="tipo_comprobante" data-placeholder="Select">
                                <option  value="">Seleccione</option>
                                <option value="factura">Factura</option>
                                <option value="boleta">Boleta</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4" *ngIf="labeltypePago">
                        <div class="form-group default-select">
                            <label for="cuotas" class="titulo">Cuota</label>
                            <select class="form-control cuotas" id="cuotas"  data-placeholder="Select">
                                <option></option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                      </div>
                </div>
                <div class="row clearfix">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="input-group-addon titulo">Total</label>
                            <input type="number" readonly [(ngModel)]="calculoTotales.total" class="form-control" placeholder="0.00">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="input-group-addon titulo">Monto</label>
                            <input type="number"(keyup)="CalcularVuelto($event)" [(ngModel)]="pago.monto" class="form-control" placeholder="0.00">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="input-group-addon titulo" *ngIf="!labeltypePago">Vuelto</label>
                            <label class="input-group-addon titulo" *ngIf="labeltypePago">Deuda</label>
                            <input type="number" readonly [(ngModel)]="pago.montoVueltoOrDeuda" class="form-control" placeholder="0.00">
                        </div>
                    </div>
                </div>
                <div class="card" style="height:130px;">
                    <div class="body image">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                <div class="variants">
                                    <div class='file'>
                                      <label for='input-file'>
                                        <i class="material-icons">cloud_upload</i>Archivos
                                      </label>
                                      <input (change)="SeleccionarFile($event)" id='input-file' type='file' accept="application/pdf" />
                                    </div>
                                </div>  
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9" *ngIf="!pdfVisualite">
                                <i _ngcontent-ajy-c6=""   class="far fa-file-pdf pdf"></i> <a title="Ver Comprobante" style="font-weight: bold;" (click)='verArchivo()'>{{showpdf}} </a>
                            </div>                           
                        </div>
                        </div>
                    </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger waves-effect" data-dismiss="modal">Cerrar</button>
            <button type="button" class="btn bg-light-green waves-effect" (click)="Pagar()" style="color: #ffff;">Pagar</button>
        </div>
    </div>
</div>
</div>
